//Code - Tim Tesner 2017

if (window.DeviceOrientationEvent) {
 console.clear();
  console.log("DeviceOrientation is supported");
}//Mobile Device ship steering by tilting screen - wip

space_view=document.createElement('img');
document.body.appendChild(space_view);
var space_view_array=[
  'http://www.tunguska.pl/wp-content/gallery/obce-swiaty/29.jpg',
  'https://images.freecreatives.com/wp-content/uploads/2016/03/Beautiful-Outer-Space-Background.jpg',
  'https://wallpaperscraft.com/image/space_galaxy_saturn_planet_94330_3840x2160.jpg',
  'http://deskbg.com/i/c/1280x800/wpp/11/11386/blue-space-desktop-background.jpg',
  'https://dexab.com/wp-content/uploads/2016/11/Beautiful-Space-HD-Light-Picture-8415.jpg',
  'http://wallpapers-and-backgrounds.net/wp-content/uploads/2016/06/earth-from-space-uhd-wallpaper_1_2048x1152.jpg',
  'http://i.imgur.com/uMrsMXh.jpg',
  'http://www.ihdwallpaperx.com/wp-content/uploads/2015/03/SPACE-FULL-HD-WALLPAPER-151.jpg',
  'https://s-media-cache-ak0.pinimg.com/originals/d8/11/86/d8118677c75ad205f10fb139c312566d.jpg',
  'https://www.walldevil.com/wallpapers/a79/space-wallpaper-screensaver-earth-background-desktop-planets-wallpapers-twilight.jpg'
];

var space_view_rnd = space_view_array[Math.floor(Math.random()*space_view_array.length)];
space_view.src=space_view_rnd;
space_view.style.cssText='position:absolute;top:-1500px;left:-2400px;z-index:-1;width:5000px;height:3000px';
space_view.onclick='console.log("test");';
console.log('Space View: '+space_view_rnd);


//new main div ship will be in here - not cockpit img
view_div=document.createElement('div');
document.body.appendChild(view_div);
//view_div.style.backgroundColor='black';
view_div.style.cssText='position:absolute;top:0;left:0;z-index:1;width:100%;height:100%';
//overlay div that will contain overlay_ship
view_overlay_div=document.createElement('div');
document.body.appendChild(view_overlay_div);
//view_overlay_div.style.backgroundColor='white';//to check alignment visually
view_overlay_div.style.cssText='position:absolute;top:0;left:0;z-index:6;width:100%;height:100%;opacity:0;filter:alpha(opacity=0)';


bg=document.createElement('img');//spaceship cockpit
document.body.appendChild(bg);
//view_div.appendChild(bg);
var bg_array=[
  'http://www.wingsofstnazaire.com/images/news/140507_diamondback_cockpit.png',
  'http://www.hedfiles.net/bscockpit24.png',
  'http://www.hedfiles.net/deadsilent/Copperhead_cockpit.png',
  'http://www.erathic.com/hawken/HUD_CONCEPT_SUGGESTION/Cockpit_infiltrator.png',
  'http://etherealflame.com/Images/CockpitFullHD.png',
  'http://solostudios.net/joe/files/cockpit-transpLG6.png',
  'http://woofeng.cn/preview/d4fb938ce5a9797f716cae77500b8cc7/assets/images/cockpit.png',
  'http://www.hedfiles.net/Copperhead_cockpit.png'
];
var bg_rnd = bg_array[Math.floor(Math.random()*bg_array.length)];
bg.src=bg_rnd;
bg.className='bg_class';
bg.style.cssText='margin:0;width:100%;height:100%;position:absolute;top:0;left:0;z-index:5';
console.log('Cockpit: '+bg_rnd);


function build_ship(){//by making the ship build inside a function and the launching after the function, could relaunch a new ship later after explosion with calling function again.
  ship=document.createElement('img');//make sure "ship" is global scope
  view_div.appendChild(ship);//needs to be inside its own transparent div for movement vs all else - which is mirrored by an exact transparent div and transparent ship 4 or so zIndex above the visible ship - Needs this stack because ship needs to look like its underneath other layers like explosions,bullets,cockpit etc.
  var ship_array=[//Only Transparent gifs/pics
    'http://www.gifsanimados.org/data/media/635/star-trek-y-viaje-a-las-estrellas-imagen-animada-0010.gif',
    'http://bestanimations.com/Sci-Fi/StarTrek/star-trek-4.gif',
    'http://i7.photobucket.com/albums/y279/Animated_Avatars/anigalaxy.gif',
    'http://www.duveltjes.nl/files/bewegende-animaties/starwars/bewegende-animatie-starwars-678266.gif',
    'http://www.duveltjes.nl/files/bewegende-animaties/starwars/bewegende-animatie-starwars-677601.gif',
    'http://www.duveltjes.nl/files/bewegende-animaties/starwars/bewegende-animatie-starwars-678171.gif',
    'http://www.duveltjes.nl/files/bewegende-animaties/starwars/bewegende-animatie-starwars-405559.gif'
  ];
  var ship_rnd = ship_array[Math.floor(Math.random()*ship_array.length)];
  ship.src=ship_rnd;
  ship.className='img_class_1';
  ship.style.cssText='position:absolute;top:30px;left:30px;z-index:2';
  document.body.onclick=bullet_maker;
  view_div.onclick=bullet_maker;
  document.body.onclick=audio1_func;/*firing sounds within the body element only*/
  console.log('Ship: '+ship_rnd);
  
  ship_overlay=document.createElement('img');//build overlay ship at a different higher zIndex - make sure "ship" is global scope
//document.body.appendChild(ship_overlay);
  view_overlay_div.appendChild(ship_overlay);
  ship_overlay.src=ship_rnd;//same as ship1
  ship_overlay.className='img_overlay_class_1';
  ship_overlay.style.cssText='position:absolute;top:30px;left:30px;z-index:7';
  //ship_overlay.style.opacity='0.6';
  //ship_overlay.style.filter='alpha(opacity=0.6)';
  //ship_overlay.style.border='2px solid red';
  //ship_overlay.onmouseover=function(){ship_overlay.style.border='2px solid purple';};
  ship_overlay.onclick=explosion_gif;
}
build_ship();//Build 1st iteration of ship, and later when it explodes it will regenerate etc


//a1 - firing sound
var audio1 = document.createElement('audio');
document.body.appendChild(audio1);
audio1.controls = false;
audio1.id = 'audio1_id';
var source1 = document.createElement('source');
source1.type = 'audio/mpeg';
source1.src = 'http://tteacher.net/Flash/sound/sound36.mp3';
audio1.appendChild(source1);

//a1b - firing sound-B - doubles the audio polyphony if audio1 is busy playing on click
var audio1b = document.createElement('audio');
document.body.appendChild(audio1b);
audio1b.controls = false;
audio1b.id = 'audio1b_id';
var source1b = document.createElement('source');
source1b.type = 'audio/mpeg';
source1b.src = 'http://tteacher.net/Flash/sound/sound36.mp3';
audio1b.appendChild(source1b);

//a1c - firing sound-C - triples the audio polyphony if audio1 is busy playing on click
var audio1c = document.createElement('audio');
document.body.appendChild(audio1c);
audio1c.controls = false;
audio1c.id = 'audio1c_id';
var source1c = document.createElement('source');
source1c.type = 'audio/mpeg';
source1c.src = 'http://tteacher.net/Flash/sound/sound36.mp3';
audio1c.appendChild(source1c);

//a2 - explosion sound
var audio2 = document.createElement('audio');
document.body.appendChild(audio2);
audio2.controls = false;
audio2.id = 'audio2_id';
var source2 = document.createElement('source');
source2.type = 'audio/mpeg';

function make_exp_snd(){
  var exp_snd_array=[
  'http://www.ballyalley.com/audio/Songs_Cart_(New_Image)/15%20-%20Explosion.mp3',
  'http://biomediaproject.com/bmp/files/sfx/v2.0.0%20Streaming/Sound%20Effects/MNOLG/Long%20Zap.mp3',
  'http://mangetoica.com/MTWood/flash/sound/HW3-sfx-explosion.mp3',
  'https://notendur.hi.is/~salvor/hljod/Small%20Fiery%20Explosion.mp3',
  //'https://notendur.hi.is/~salvor/hljod/Explosion%20Sub%20Impact%202.mp3',
  'https://notendur.hi.is/~salvor/hljod/Explode-eRco_Inc-7833_hifi.mp3'
  ];
  var exp_snd_rnd = exp_snd_array[Math.floor(Math.random()*exp_snd_array.length)];
  return exp_snd_rnd;
}
source2.src=make_exp_snd();//gets src from the return of the function
audio2.appendChild(source2);

//a3 - Greeting Audio -- no need for a function to launch this since it is autoplay
var audio3 = document.createElement('audio');
document.body.appendChild(audio3);
audio3.controls = false;
//audio3.autoplay = true;//comment this out to have same functionality as mobile/phone version which at time of coding won't let autoplay work without user interaction first, which for this game is to click on body/view of space
audio3.id = 'audio3_id';
var source3 = document.createElement('source');
source3.type = 'audio/mpeg';
var greeting_snd_array=[
  'http://simant.ru/pub/multimedia/Samples/Snd/slsk/star%20trek%20-%20We%20are%20the%20borg.Lower%20your%20shield.......mp3',
  'http://biomediaproject.com/bmp/files/sfx/v2.0.0%20Streaming/Sound%20Effects/MNOLG/Long%20Muahahaha.mp3',
  'https://notendur.hi.is/~salvor/hljod/evil%20laugh.mp3',
  'https://notendur.hi.is/~salvor/hljod/monster.mp3',
  'http://biomediaproject.com/bmp/files/sfx/v2.0.0%20Streaming/Sound%20Effects/MNOLG/Makuta%27s%20Evil%20Laugh.mp3',
  'http://75.86.91.167/ftp/aescula/music/TV%20Shows/Sci-Fi%20Themes%20-%20The%20Dark%20Side/01%20The%20Outer%20Limits.mp3'
  ];
var greeting_snd_rnd = greeting_snd_array[Math.floor(Math.random()*greeting_snd_array.length)];
source3.src=greeting_snd_rnd;
audio3.appendChild(source3);

//a4 - bg music Audio -- no need for a function to launch this since it is autoplay
var audio4 = document.createElement('audio');
document.body.appendChild(audio4);
audio4.controls = false;
//audio4.autoplay = true;//comment out to match mobile/phone version
audio4.id = 'audio4_id';
var source4 = document.createElement('source');
source4.type = 'audio/mpeg';
var bg_snd_array=[
  'https://notendur.hi.is/~salvor/hljod/dramatic.mp3',
  'http://75.86.91.167/ftp/aescula/music/Eternal%20Champions/Perpetual%20Motion.mp3',
  'http://75.86.91.167/ftp/aescula/music/TV%20Shows/Sci-Fi%20Themes%20-%20The%20Dark%20Side/12%20Scanners.mp3',
  //'http://75.86.91.167/ftp/aescula/music/Other/Rihanna-Disturbia.mp3',
  'http://75.86.91.167/ftp/aescula/music/TV%20Shows/Stargate%20SG1/Stargate%20SG1%20-%20Title%20Theme.mp3',
  'http://users.du.se/~dbe/mp3/Star%20Wars%20Soundtrack/Star%20Wars%20IV%20-%20Cantina%20Band.mp3',
  'http://users.du.se/~dbe/mp3/Star%20Wars%20Soundtrack/Star%20Wars%20I%20-%20Star%20Wars%20Main%20Title%20And%20The%20Arrival%20At%20Naboo.mp3',
  'http://server4.xytune.ir/mdl/j/John%20Williams/Greatest%20Hits/1-03%20-%20%27Main%20Title%27%20from%20Superman%20(1978)%5bwww.xyTune.com%5d.mp3',
  'http://server4.xytune.ir/mdl/j/John%20Williams/Greatest%20Hits/1-02%20-%20%27Flying%20Theme%27%20from%20from%20E.T.%20the%20Extra-Terrestrial%20(1977)%5bwww.xyTune.com%5d.mp3',
  //'http://server4.xytune.ir/mdl/j/John%20Williams/Greatest%20Hits/1-13%20-%20%27The%20Raiders%20March%27%20from%20Raiders%20of%20the%20Lost%20Ark%20(1981)%5bwww.xyTune.com%5d.mp3',
  //'http://75.86.91.167/ftp/aescula/music/TV%20Shows/Star%20Trek/1%20Original/',
  'http://75.86.91.167/ftp/aescula/music/Other/Clint%20Mansell%20-%20Requiem%20for%20a%20Dream%20Remix.mp3',
  'http://simant.ru/pub/multimedia/Samples/Snd/slsk/sound%20effects%20-%2070%27s%20Porn%20Music.mp3'
  ];
var bg_snd_rnd = bg_snd_array[Math.floor(Math.random()*bg_snd_array.length)];
source4.src=bg_snd_rnd;
audio4.appendChild(source4);

//a5 - Zoom_out sound
var audio5 = document.createElement('audio');
document.body.appendChild(audio5);
audio5.controls = false;
audio5.id = 'audio5_id';
var source5 = document.createElement('source');
source5.type = 'audio/mpeg';
source5.src = 'http://biomediaproject.com/bmp/files/sfx/v2.0.0%20Streaming/Sound%20Effects/Glatorian-Agori%20Site/Vehicle%20flying%201.mp3';
audio5.appendChild(source5);

//a6 - Zoom_in sound
var audio6 = document.createElement('audio');
document.body.appendChild(audio6);
audio6.controls = false;
audio6.id = 'audio6_id';
var source6 = document.createElement('source');
source6.type = 'audio/mpeg';
source6.src = 'http://biomediaproject.com/bmp/files/sfx/v2.0.0%20Streaming/Sound%20Effects/Glatorian-Agori%20Site/Vehicle%20flying%202.mp3';
audio6.appendChild(source6);


function make_exp_gif(){
  var expArray = [
   //{exp_src:'http://i40.tinypic.com/vwpqv9.gif',time_till_gone:1300},//#000 bg
   //{exp_src:'https://media0.giphy.com/media/lTWNk5xiJrG3C/200.webp#350',time_till_gone:800},//#000
   //{exp_src:'https://media1.giphy.com/media/9xNDvLlwR2GT6/200w.webp#213',time_till_gone:1200},//#000
   //{exp_src:'http://www.picgifs.com/graphics/e/explosions/graphics-explosions-210621.gif',time_till_gone:1000},//#000
   //{exp_src:'http://i342.photobucket.com/albums/o407/hell454/explosion.gif',time_till_gone:1400},//#000
   //{exp_src:'http://savepic.ru/4517769.gif',time_till_gone:700},//#000
   //{exp_src:'https://d13yacurqjgara.cloudfront.net/users/652916/screenshots/1925630/explosion_01_dribbble.gif',time_till_gone:1900},//#000
   {exp_src:'http://rs651.pbsrc.com/albums/uu236/416o/explosion.gif~c200',time_till_gone:800},
   {exp_src:'https:s-media-cache-ak0.pinimg.com/originals/10/92/fa/1092fa7d42c7db063aaf5f1d517b1692.gif',time_till_gone:900},
   {exp_src:'http://i39.photobucket.com/albums/e200/grokyou/shooting/gradiusiiiexplosiona.gif',time_till_gone:600},
   {exp_src:'http://38.media.tumblr.com/54767e552e0de2a8ae423e56438b73ec/tumblr_msta67lgeE1rmdrjqo1_400.gif',time_till_gone:1800},
   {exp_src:'http://www.netanimations.net/Animated-clip-art-picture-of-black-inferno-fire-flames.gif',time_till_gone:800},
   {exp_src:'http://24.media.tumblr.com/tumblr_md72r6Ui8d1ri9266o1_250.gif',time_till_gone:900},
   {exp_src:'http://www.clipartbest.com/cliparts/KTj/pXk/KTjpXk5Gc.gif',time_till_gone:700},
    {exp_src:'http://i409.photobucket.com/albums/pp173/Atomkpunk/Sample%20Gifs/Explosion2.gif',time_till_gone:700},
    {exp_src:'https://media.giphy.com/media/10MiNKnC2bUdgY/giphy.gif',time_till_gone:1500},
    {exp_src:'http://gsanimator.com/wp-content/uploads/2013/04/explosion_animation_preview.gif',time_till_gone:650},
    {exp_src:'http://www.sinteg.cl/images/explosion.gif',time_till_gone:700}
    //{exp_src:'',time_till_gone:700}
    //{exp_src:'',time_till_gone:700}
    //{exp_src:'',time_till_gone:700}
   
   //{exp_src:'',time_till_gone:700}
 ];
  var rand_explosion = expArray[Math.floor(Math.random()*expArray.length)];
  //var rand_explosion_with_timer = rand_explosion.time_till_gone;
  return rand_explosion;
}

var 
    expl_gif=document.createElement('img'),
    expl_gif_begining_width='320px',//use as a reset later
    expl_gif_beginning_height='320px',//use as a reset later
    expl_gif_width='320px',
    expl_gif_height='320px';


function explosion_gif(){//Only transparent explosions! - Black background is what I started with when either a transparent, or a Black background would of worked.
  view_div.removeChild(ship);
  view_overlay_div.removeChild(ship_overlay);
  var cursor_x=event.clientX;
  var cursor_y=event.clientY;
  //var exp_gif=document.createElement('img');
  exp_gif=expl_gif;//bring in variable from outside
  document.body.appendChild(exp_gif);
  //view_div.appendChild(exp_gif);
  exp_gif.className='exp_gif_class';
  exp_gif.id='exp_gif_id';
  exp_gif.style.zIndex='4';
  exp_gif.style.width=expl_gif_width;//bring in variable from outside
  exp_gif.style.height=expl_gif_height;//bring in variable from outside
  exp_gif.style.position='absolute';
  exp_gif.style.left=cursor_x-160+'px';//move back half of explosion width to center on crosshair
  exp_gif.style.top=cursor_y-160+'px';//move back half of explosion height to center on crosshair
  
  make_exp_gif();//Run the function to create a new explosion image src
  var explo_gif=make_exp_gif();//transfer the result/return of running the function to this variable.
  
  exp_gif.src=explo_gif.exp_src;//look for src from expl_gif after function makes it - above outside function
  make_exp_snd();//make new explosion sound from the return of the function
  document.getElementById('audio2_id').src=make_exp_snd();//change to new explosion sound src of returned variable
  
  setTimeout(function(){
    document.body.removeChild(exp_gif);
  },explo_gif.time_till_gone);/*make gif disappear at a precise time to keep from looping*/
  
  audio2_func();
  setTimeout(function(){build_ship();},3000);//launch another ship 3 seconds after destruction
  console.log('Explosion Pic: '+exp_gif.src);
  console.log('Explosion Timer: '+explo_gif.time_till_gone);
  console.log('Explosion Sounds '+make_exp_snd());
}

function audio1_func() {/*shot - multi polyphony */
  if(audio1_id.paused || !audio1_id.currentTime){//check if paused or started playing yet
    document.getElementById('audio1_id').play();
  }else{
    if(audio1b_id.paused || !audio1b_id.currentTime){
      document.getElementById('audio1b_id').play();
    }else{
      document.getElementById('audio1c_id').play();
    }
       }
  //Start audio3 and audio4 functions only if paused or not playing yet - Needed because Android/phone audio autoplay is nerfed on chrome version to not play until a user action even if autoplay=true for those audio elements.For desktop the audio3 and audio4 will automatically play
  if (typeof run_once !== "undefined")run_once();//play audio3 and audio4 Once at first fire, when you click body, and then set "run_once" to undefined to not reuse audio3 and audio4 function included with shot sound everytime you shoot.  
  bullet_maker();
}

var run_once = function(){
     run_once = function(){}; // kill function after launch by setting it to outer function name;
     play_on_start();//play audio3 and audio4 only once
    run_once=undefined;//throws error if you try to call it again, and just added code to check if run_once is now undefined before trying to launch function
  };

function audio1b_func() {/*firing sounds-B*/
  document.getElementById('audio1b_id').play();
}

function audio1c_func() {/*Firing sounds-C*/
  document.getElementById('audio1c_id').play();
}

function audio2_func() {/*explosions sounds*/
  document.getElementById('audio2_id').play();
}

function audio3_func() {/*greeting sounds*/
  document.getElementById('audio3_id').play();
}

function audio4_func() {/*bg music sounds*/
  document.getElementById('audio4_id').play();
}

function audio5_func() {/*zoom_out*/
  document.getElementById('audio5_id').play();
}

function audio6_func() {/*zoom_in*/
  document.getElementById('audio6_id').play();
}

function play_on_start(){
  if(audio3_id.paused || !audio3_id.currentTime && audio4_id.paused || !audio4_id.currentTime){//check if audio has started or is paused on both audio3 and audio4 elements - disabled autoplay=true in html audio tag attribute so it is the same experience on phone/mobile as desktop - Android chrome currently doesn't allow audio autoplay on start - requires user click or interaction.
  audio3_func();
  audio4_func();
  }
}

var shot=document.createElement('img');
var shotz_src='http://icons.wxug.com/i/c/k/clear.gif';
//var shotz_src='http://www.mission-base.com/uni-weimar/results/dropzone/textures/shine1.gif';
//var shotz_src='https://media.giphy.com/media/13J1UzXCjv3cOY/giphy.gif';//declar outside of bullet_maker function
var shotz_id='shotz_id';
function bullet_maker(){
  var shot=document.createElement('img');
  var shot_size='24';//both width and height size
  var shot_ev_x=event.clientX;
  var shot_ev_y=event.clientY;
  document.body.appendChild(shot);
  //view_div.appendChild(shot);
  shot.src=shotz_src;//so console.log() can output bullet src
  shot.id=shotz_id;
  shot.style.position='absolute';
  shot.style.left=event.clientX-shot_size/2+'px';//half width to center on crosshair
  shot.style.top=event.clientY-shot_size/2+'px';//half height to center on crosshair
  shot.style.width=shot_size+'px';
  shot.style.height=shot_size+'px';
  //shot.style.zIndex='3';//hide shot behind explosions
  shot.style.zIndex='1';//hide shot behind cockpit,explosion, and ship z-indexes, but above background image
  function shot_fade() {//make shots fade and decrease size in time
    //var shot=shotz;
    setTimeout(function(){
      document.body.removeChild(shot);
      //console.log('shot removed');//to test the timer
      clearInterval(shot_intv);
    },510);
    var shot_intv=setInterval(function () {//variable name the setInterval to clear it later
      opac_of_shot=window.getComputedStyle(shot).getPropertyValue("opacity");
      width_of_shot=shot.offsetWidth;
      height_of_shot=shot.offsetHeight;
      shot.style.opacity=opac_of_shot-0.15;
      shot.style.width=width_of_shot-6+'px';
      shot.style.height=height_of_shot-6+'px';
      shot.style.left=shot.offsetLeft+3+'px';
      shot.style.top=shot.offsetTop+3+'px';
    }, 200);
  }
  shot_fade();//run function to fade shots in size and opacity
  
  //setTimeout(function(){document.body.removeChild(shot);/* document.body.removeChild(shot); */},430);//timer to make bullet disappear eventually
  /* note - removeChild(shot), then assign to another variable, then set that variable to null - because it was throwing errors for trying to push the bullets when moving if they didnt exist from removeChild - Had idea to removeChild(shot) at beginning of function instead of after timer*/
}

console.log('Bullet Pic: '+shotz_src);


window.addEventListener("keydown", checkkey, false);

function checkkey(e) {
  var the_shot=document.getElementById('shotz_id');//use this variable to check for shots fired later
  
  if (e.keyCode == "87") {//w key - up
     var view_div_up=view_div.offsetTop+30+'px';//ship div
     view_div.style.top=view_div_up;
     var view_overlay_div_up=view_overlay_div.offsetTop+30+'px';//ghost overlay ship div
     view_overlay_div.style.top=view_overlay_div_up;
     
     if(typeof(bullet_maker) != 'undefined' && the_shot !== null){//if shot(s) fired, and on screen, or not removed yet
       var shot_move_up=the_shot.offsetTop+15+'px';//shot
       the_shot.style.top=shot_move_up;
     }
     
     if(typeof exp_gif != 'undefined' /*&& space_view.offsetTop<='-6'*/){//if exp_gif is not undefined and space_view background isn't already pushed to farthest up - throws error without- if statement..
       exp_gif_up=exp_gif.offsetTop+15+'px';//exp_gif at half of movement rate of ship (15) movement rate (30) instead of stuck in view
     exp_gif.style.top=exp_gif_up;
       //Without the explosion happening first... it wants to move an explosion that doesn't exist yet
     }
     
     if(space_view.offsetTop<='-6'){//won't let you see outside top edge of background
       var view_space_div_up=space_view.offsetTop+18+'px';//move background view down
       space_view.style.top=view_space_div_up;
     }
       //console.log(space_view.offsetTop+'px');
   }
  
  if (e.keyCode == "83") {//s key - down
    var view_div_down=view_div.offsetTop-30+'px';
    view_div.style.top=view_div_down;
    var view_overlay_div_down=view_overlay_div.offsetTop-30+'px';
    view_overlay_div.style.top=view_overlay_div_down;
    
    if(typeof(bullet_maker) != 'undefined' && the_shot !== null){//if shot(s) fired, and on screen, or not removed yet
       var shot_move_down=the_shot.offsetTop-15+'px';//shot
       the_shot.style.top=shot_move_down;
     }
    
    if(typeof exp_gif != 'undefined' /*&& space_view.offsetTop>='-1500'*/){//if exp_gif is not undefined and space_view background isn't already pushed to farthest down - throws error without- if statement..
    exp_gif_down=exp_gif.offsetTop-15+'px';//exp_gif at half of movement rate of ship (15) movement rate (30) instead of stuck in view
    exp_gif.style.top=exp_gif_down;
    }
    
    if(space_view.offsetTop>='-1500' || space_view.offsetTop>'-5'){//won't let you see outside bottom edge of background
      var view_space_div_down=space_view.offsetTop-18+'px';//move background view up
      space_view.style.top=view_space_div_down;
     }
       //console.log(space_view.offsetTop+'px');
   }
  
  if (e.keyCode == "65") {//a key - left
    var view_div_left=view_div.offsetLeft+30+'px';
    view_div.style.left=view_div_left;
    var view_overlay_div_left=view_overlay_div.offsetLeft+30+'px';
    view_overlay_div.style.left=view_overlay_div_left;
    
    if(typeof(bullet_maker) != 'undefined' && the_shot !== null){//if shot(s) fired, and on screen, or not removed yet
       var shot_move_left=the_shot.offsetLeft+15+'px';//shot
       the_shot.style.left=shot_move_left;
     }
    
    if(typeof exp_gif != 'undefined' /*&& space_view.offsetLeft<='-16'*/){//if exp_gif is not undefined and space_view background isn't already pushed to farthest left - throws error without- if statement..
    exp_gif_left=exp_gif.offsetLeft+15+'px';//exp_gif at half of movement rate of ship (15) movement rate (30) instead of stuck in view
     exp_gif.style.left=exp_gif_left;
    }
    
    /* if(typeof shotz != 'undefined' && !null){ //errors when trying to move a shot then fades out      
    shot_left=document.getElementById('shotz_id').offsetLeft+15+'px';
     document.getElementById('shotz_id').style.left=shot_left;
    } */
    
    if(space_view.offsetLeft<='-16'){//won't let you see outside left edge of background
      var view_space_div_left=space_view.offsetLeft+18+'px';//move background view left
      space_view.style.left=view_space_div_left;
    }
        //console.log(space_view.offsetLeft+'px');
   }
  
  if (e.keyCode == "68") {//d key - right
    var view_div_right=view_div.offsetLeft-30+'px';
    view_div.style.left=view_div_right;
    var view_overlay_div_right=view_overlay_div.offsetLeft-30+'px';
    view_overlay_div.style.left=view_overlay_div_right;
    
    if(typeof(bullet_maker) != 'undefined' && the_shot !== null){//if shot(s) fired, and on screen, or not removed yet
       var shot_move_right=the_shot.offsetLeft-15+'px';//shot
       the_shot.style.left=shot_move_right;
     }
    
    if(typeof exp_gif != 'undefined' /*&& space_view.offsetLeft>'-2434'*/){//if exp_gif is not undefined and space_view background isn't already pushed to farthest right - throws error without- if statement;
    exp_gif_right=exp_gif.offsetLeft-15+'px';//move exp_gif right at half of movement rate of ship (15) movement rate (30) instead of stuck in view
     exp_gif.style.left=exp_gif_right;
    }
    
    if(space_view.offsetLeft>'-2434'){//won't let you see outside right edge of background
       var view_space_div_right=space_view.offsetLeft-18+'px';//move background view right
       space_view.style.left=view_space_div_right;
       }
          //console.log(space_view.offsetLeft+'px');
   }
  
}

window.addEventListener("keydown", zoom_out, false);//still working on this feature
window.addEventListener("keydown", zoom_in, false);//still working on this feature

view_overlay_div.focus();

function zoom_out(e){
   if(space_view.height>1600 && space_view.width>2500){
  if(e.keyCode == '88'){
    window.audio5_func();//zoom_out sound
    var 
        hc=space_view.height,
        wc=space_view.width,
        hcd=hc*0.008,
        wcd=wc*0.008,
        tc=space_view.offsetTop,
        lc=space_view.offsetLeft,
        tcd=tc*0.008,
        lcd=lc*0.008;
    space_view.style.height=hc-hcd+'px';
    space_view.style.width=wc-wcd+'px';
    space_view.style.top=tc-tcd+'px';
    space_view.style.left=lc-lcd+'px';
    console.clear();
    console.log('height:'+hc+'px --- width:'+wc+'px');
    console.log('offsetTop:'+tcd+'px --- offsetLeft:'+lcd+'px');
    
    var 
        ship_width=ship.width,
        ship_height=ship.height,
        ship_width_divide=ship_width*0.008,
        ship_height_divide=ship_height*0.008;
    ship.style.width=ship_width-ship_width_divide+'px';
    ship.style.height=ship_height-ship_height_divide+'px';
    console.log('Ship Width: '+ship.style.width);
    console.log('Ship Height: '+ship.style.height);    
    var exp_gif=expl_gif;//get variable into this function from outside
    
    if(typeof exp_gif !== null){//explosion on screen already
      var 
          exp_width=exp_gif.width,
          exp_height=exp_gif.height,
          exp_width_divide=exp_width*0.008,
          exp_height_divide=exp_height*0.008;
      exp_gif.style.width=exp_width-exp_width_divide+'px';
      exp_gif.style.height=exp_height-exp_height_divide+'px';
      console.log('Explosion Width: '+exp_gif.style.width);
      console.log('Explosion Height: '+exp_gif.style.height);
    }    
  }
  } 
}


function zoom_in(e){
   if(space_view.height>2600 && space_view.width>3500){//will need to make double parameters for largest and smallest views widths and heighs
  if(e.keyCode == '67'){
    window.audio6_func();//zoom_in sound
    var 
        hc=space_view.height,
        wc=space_view.width,
        hcd=hc*0.008,
        wcd=wc*0.008,
        tc=space_view.offsetTop,
        lc=space_view.offsetLeft,
        tcd=tc*0.008,
        lcd=lc*0.008;
    space_view.style.height=hc+hcd+'px';
    space_view.style.width=wc+wcd+'px';
    space_view.style.top=tc+tcd+'px';
    space_view.style.left=lc+lcd+'px';
    console.clear();
    console.log('height:'+hc+'px --- width:'+wc+'px');
    console.log('offsetTop:'+tcd+'px --- offsetLeft:'+lcd+'px');
    
    var 
        ship_width=ship.width,
        ship_height=ship.height,
        ship_width_divide=ship_width*0.008,
        ship_height_divide=ship_height*0.008;
    ship.style.width=ship_width+ship_width_divide+'px';
    ship.style.height=ship_height+ship_height_divide+'px';
    console.log('Ship Width: '+ship.style.width);
    console.log('Ship Height: '+ship.style.height);
    
    var exp_gif=expl_gif;//get variable into this function from outside
    
    if(typeof exp_gif !== null){//explosion on screen already
      var 
          exp_width=exp_gif.width,
          exp_height=exp_gif.height,
          exp_width_divide=exp_width*0.008,
          exp_height_divide=exp_height*0.008;
      exp_gif.style.width=exp_width+exp_width_divide+'px';
      exp_gif.style.height=exp_height+exp_height_divide+'px';
      console.log('Explosion Width: '+exp_gif.style.width);
      console.log('Explosion Height: '+exp_gif.style.height);
    }
    
  }
  } 
}